{"ts":1348717844276,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\">\r\n<head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\r\n<title>SIDEWAYS jQuery fullscreen image gallery</title>\r\n<script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js\" type=\"text/javascript\"></script>\r\n    <script type=\"text/javascript\" src=\"../tempest.js\"></script>\r\n<style type=\"text/css\">\r\n<!--\r\nhtml,body{height:100%}\r\nbody {margin:0; padding:0; background:#000; overflow:hidden; font-family:Helvetica, Arial, sans-serif; font-size:16px;}\r\n/* custom fonts */\r\n@font-face {\r\n\tfont-family: 'eurof55-webfont';\r\n\tsrc: url('fonts/eurof55-webfont.eot');\r\n\tsrc: local('☺'), url('fonts/eurof55-webfont.woff') format('woff'), url('fonts/eurof55-webfont.ttf') format('truetype'), url('fonts/eurof55-webfont.svg#webfont8xigBfG2') format('svg');\r\n}\r\n@font-face {\r\n\tfont-family: 'eurof35-webfont';\r\n\tsrc: url('fonts/eurof35-webfont.eot');\r\n\tsrc: local('☺'), url('fonts/eurof35-webfont.woff') format('woff'), url('fonts/eurof35-webfont.ttf') format('truetype'), url('fonts/eurof35-webfont.svg#webfont8xigBfG2') format('svg');\r\n}\r\n@font-face {\r\n\tfont-family: 'graublauweb-webfont';\r\n\tsrc: url('fonts/graublauweb-webfont.eot');\r\n\tsrc: local('☺'), url('fonts/graublauweb-webfont.woff') format('woff'), url('fonts/graublauweb-webfont.ttf') format('truetype'), url('fonts/graublauweb-webfont.svg#webfont8xigBfG2') format('svg');\r\n}\r\n.clear{clear:both;}\r\na:link,a:visited,a:hover{color:#ddd;}\r\na:hover{color:#fff; text-decoration:none;}\r\n#bg{position:fixed; left:585px; top:0; width:100%; height:100%;}\r\n#bgimg{display:none; cursor:pointer; -ms-interpolation-mode: bicubic;} /* special IE fix for resized images */\r\n#preloader{position:absolute; z-index:2; width:140px; padding:20px; top:20px; right:20px; background:#000; color:#666; font-family:graublauweb-webfont, Helvetica, Arial, sans-serif; font-size:16px; -moz-border-radius:5px; -khtml-border-radius:5px; -webkit-border-radius:5px; border-radius:5px;}\r\n#preloader img{margin-right:20px;}\r\n#toolbar{display:inline-block; padding:4px 15px; margin:20px 15px; background:#262626 url(sw_btn_bg.png) repeat-x; -moz-border-radius:8px; -khtml-border-radius:8px; -webkit-border-radius:8px; border-radius:8px; font-family:graublauweb-webfont, Helvetica, Arial, sans-serif; font-size:12px; color:#fff; cursor:pointer;}\r\n#outer_container{position:relative; margin:0; width:700px; padding:0 100px 0 0; z-index:2; background:url(empty.gif);} /* fucking IE needs a background value to understand hover area */\r\n#customScrollBox{position:relative; overflow:hidden;}\r\n#customScrollBox .container{position:relative; width:585px; top:0; float:left;}\r\n#customScrollBox .content{clear:both;}\r\n#customScrollBox .content h1{padding:5px; margin:10px; color:#fff; font-family:eurof55-webfont, Helvetica, Arial, sans-serif; font-size:48px;}\r\n#customScrollBox .content h2{padding:5px; margin:10px 10px 0 10px; color:#fff; font-family:eurof35-webfont, Helvetica, Arial, sans-serif; font-size:24px;}\r\n#customScrollBox .content p{padding:5px; margin:0 10px 10px 10px; color:#ddd; font-family:graublauweb-webfont, Helvetica, Arial, sans-serif; line-height:26px;}\r\n.light{font-family:eurof35-webfont, Helvetica, Arial, sans-serif;}\r\n.grey{color:#999;}\r\n.lightgrey{color:#ddd;}\r\n.s36{font-size:36px;}\r\n.s24{font-size:24px;}\r\n#customScrollBox a.thumb_link{position:relative; margin:0 0 1px 1px; display:block; float:left;}\r\n#customScrollBox img{border:none;}\r\n#customScrollBox a.thumb_link .selected{position:absolute; top:0; left:0; width:145px; height:91px; background:url(sw_thumb_selected.png) no-repeat; display:none;}\r\n#dragger_container{position:relative; width:30px; height:580px; float:left; margin:10px 0 0 0; background:url(sw_dragger_bg.png) repeat-y center;}\r\n#dragger{position:absolute; width:30px; height:59px; background:url(round_custom_scrollbar_bg.png) no-repeat center center; cursor:pointer;}\r\n#arrow_indicator{position:absolute; z-index:1; width:50px; padding:10px; top:50%; margin-top:-25px; left:20px; background:url(sw_transparent_black_bg.png); -moz-border-radius:5px; -khtml-border-radius:5px; -webkit-border-radius:5px; border-radius:5px; display:none;}\r\n#nextimage_tip{position:fixed; z-index:1; padding:0 20px; line-height:40px; color:#fff; height:40px; top:50%; margin-top:-20px; right:20px; background:url(sw_transparent_black_bg.png); -moz-border-radius:5px; -khtml-border-radius:5px; -webkit-border-radius:5px; border-radius:5px; display:none; font-family:graublauweb-webfont, Helvetica, Arial, sans-serif;}\r\n.with_border{border:1px solid #000;}\r\n.with_shadow{-moz-box-shadow:0 0 40px #000; -webkit-box-shadow:0 0 40px #000; box-shadow:0 0 40px #000;}\r\n-->\r\n</style>\r\n<script type=\"text/javascript\" src=\"jquery.1.4.min.js\"></script>\r\n<script type=\"text/javascript\" src=\"jquery-ui.min.js\"></script>\r\n<script type=\"text/javascript\" src=\"jquery.easing.1.3.js\"></script>\r\n<script type=\"text/javascript\" src=\"jquery.mousewheel.min.js\"></script>\r\n</head>\r\n\r\n<body>\r\n\r\n<div id=\"outer_container\">\r\n<div id=\"customScrollBox\">\r\n\t<div class=\"container\">\r\n    \t<div class=\"content\">\r\n        \t<header class=\"header\" style=\"width:100%;padding:20px;z-index:9999;font-family:serif;text-decoration:none;\"></header>           \r\n            <a href=\"img/01.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/01t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/02.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/02t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/03.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/03t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/04.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/04t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/05.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/05t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/06.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/06t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/07.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/07t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/08.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/08t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/09.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/09t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/10.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/10t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/11.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/11t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/12.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/12t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/13.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/13t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/14.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/14t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/15.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/15t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/16.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/16t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/17.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/17t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/18.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/18t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/19.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/19t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/20.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/20t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/21.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/21t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/22.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/22t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/23.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/23t.jpg\" class=\"thumb\" /></a>\r\n            <a href=\"img/24.jpg\" class=\"thumb_link\"><span class=\"selected\"></span><img src=\"img/24t.jpg\" class=\"thumb\" /></a>\r\n\r\n\r\n            <p class=\"clear\"></p>\r\n        </div>\r\n\t</div>\r\n    <div id=\"dragger_container\"><div id=\"dragger\"></div></div>\r\n</div>\r\n</div>\r\n<div id=\"bg\">\r\n    <img src=\"img/01.jpg\" id=\"bgimg\" />\r\n\t<div id=\"preloader\"><img src=\"ajax-loader_dark.gif\" width=\"32\" height=\"32\" align=\"absmiddle\" />LOADING...</div>\r\n    <div id=\"arrow_indicator\"><img src=\"sw_arrow_indicator.png\" width=\"50\" height=\"50\"  /></div>\r\n    <div id=\"nextimage_tip\">Click for next image</div>\r\n</div>\r\n<script>\r\n\t//set default view mode\r\n\t$defaultViewMode=\"full\"; //full (fullscreen background), fit (fit to window), original (no scale)\r\n\t//cache vars\r\n\t$bg=$(\"#bg\");\r\n\t$bgimg=$(\"#bg #bgimg\");\r\n\t$preloader=$(\"#preloader\");\r\n\t$outer_container=$(\"#outer_container\");\r\n\t$outer_container_a=$(\"#outer_container a.thumb_link\");\r\n\t$toolbar=$(\"#toolbar\");\r\n\t$nextimage_tip=$(\"#nextimage_tip\");\r\n\t\r\n$(window).load(function() {\r\n\t$toolbar.data(\"imageViewMode\",$defaultViewMode); //default view mode\r\n\tImageViewMode($toolbar.data(\"imageViewMode\"));\r\n\t//cache vars\r\n\t$customScrollBox=$(\"#customScrollBox\");\r\n\t$customScrollBox_container=$(\"#customScrollBox .container\");\r\n\t$customScrollBox_content=$(\"#customScrollBox .content\");\r\n\t$dragger_container=$(\"#dragger_container\");\r\n\t$dragger=$(\"#dragger\");\r\n\t\r\n\tCustomScroller();\r\n\t\r\n\tfunction CustomScroller(){\r\n\t\touterMargin=0;\r\n\t\tinnerMargin=20;\r\n\t\t$customScrollBox.height($(window).height()-outerMargin);\r\n\t\t$dragger_container.height($(window).height()-innerMargin);\r\n\t\tvisibleHeight=$(window).height()-outerMargin;\r\n\t\tif($customScrollBox_container.height()>visibleHeight){ //custom scroll depends on content height\r\n\t\t\t$dragger_container,$dragger.css(\"display\",\"block\");\r\n\t\t\ttotalContent=$customScrollBox_content.height();\r\n\t\t\tdraggerContainerHeight=$(window).height()-innerMargin;\r\n\t\t\tanimSpeed=400; //animation speed\r\n\t\t\teaseType=\"easeOutCirc\"; //easing type\r\n\t\t\tbottomSpace=1.05; //bottom scrolling space\r\n\t\t\ttargY=0;\r\n\t\t\tdraggerHeight=$dragger.height();\r\n\t\t\t$dragger.draggable({ \r\n\t\t\t\taxis: \"y\", \r\n\t\t\t\tcontainment: \"parent\", \r\n\t\t\t\tdrag: function(event, ui) {\r\n\t\t\t\t\tScroll();\r\n\t\t\t\t}, \r\n\t\t\t\tstop: function(event, ui) {\r\n\t\t\t\t\tDraggerOut();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//scrollbar click\r\n\t\t\t$dragger_container.click(function(e) {\r\n\t\t\t\tvar mouseCoord=(e.pageY - $(this).offset().top);\r\n\t\t\t\tvar targetPos=mouseCoord+$dragger.height();\r\n\t\t\t\tif(targetPos<draggerContainerHeight){\r\n\t\t\t\t\t$dragger.css(\"top\",mouseCoord);\r\n\t\t\t\t\tScroll();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$dragger.css(\"top\",draggerContainerHeight-$dragger.height());\r\n\t\t\t\t\tScroll();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t//mousewheel\r\n\t\t\t$(function($) {\r\n\t\t\t\t$customScrollBox.bind(\"mousewheel\", function(event, delta) {\r\n\t\t\t\t\tvel = Math.abs(delta*10);\r\n\t\t\t\t\t$dragger.css(\"top\", $dragger.position().top-(delta*vel));\r\n\t\t\t\t\tScroll();\r\n\t\t\t\t\tif($dragger.position().top<0){\r\n\t\t\t\t\t\t$dragger.css(\"top\", 0);\r\n\t\t\t\t\t\t$customScrollBox_container.stop();\r\n\t\t\t\t\t\tScroll();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif($dragger.position().top>draggerContainerHeight-$dragger.height()){\r\n\t\t\t\t\t\t$dragger.css(\"top\", draggerContainerHeight-$dragger.height());\r\n\t\t\t\t\t\t$customScrollBox_container.stop();\r\n\t\t\t\t\t\tScroll();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\tfunction Scroll(){\r\n\t\t\t\tvar scrollAmount=(totalContent-(visibleHeight/bottomSpace))/(draggerContainerHeight-draggerHeight);\r\n\t\t\t\tvar draggerY=$dragger.position().top;\r\n\t\t\t\ttargY=-draggerY*scrollAmount;\r\n\t\t\t\tvar thePos=$customScrollBox_container.position().top-targY;\r\n\t\t\t\t$customScrollBox_container.stop().animate({top: \"-=\"+thePos}, animSpeed, easeType); //with easing\r\n\t\t\t}\r\n\r\n\t\t\t//dragger hover\r\n\t\t\t$dragger.mouseup(function(){\r\n\t\t\t\tDraggerOut();\r\n\t\t\t}).mousedown(function(){\r\n\t\t\t\tDraggerOver();\r\n\t\t\t});\r\n\r\n\t\t\tfunction DraggerOver(){\r\n\t\t\t\t$dragger.css(\"background\", \"url(round_custom_scrollbar_bg_over.png)\");\r\n\t\t\t}\r\n\r\n\t\t\tfunction DraggerOut(){\r\n\t\t\t\t$dragger.css(\"background\", \"url(round_custom_scrollbar_bg.png)\");\r\n\t\t\t}\r\n\t\t} else { //hide custom scrollbar if content is short\r\n\t\t\t$dragger,$dragger_container.css(\"display\",\"none\");\r\n\t\t}\r\n\t}\r\n\r\n\t//resize browser window functions\r\n\t$(window).resize(function() {\r\n\t\tFullScreenBackground(\"#bgimg\"); //scale bg image\r\n\t\t$dragger.css(\"top\",0); //reset content scroll\r\n\t\t$customScrollBox_container.css(\"top\",0);\r\n\t\t$customScrollBox.unbind(\"mousewheel\");\r\n\t\tCustomScroller();\r\n\t});\r\n\t\r\n\tLargeImageLoad($bgimg);\r\n});\r\n\t\r\n\t//loading bg image\r\n\t$bgimg.load(function() {\r\n\t\tLargeImageLoad($(this));\r\n\t});\r\n\t\r\n\tfunction LargeImageLoad($this){\r\n\t\t$preloader.fadeOut(\"fast\"); //hide preloader\r\n\t\t$this.removeAttr(\"width\").removeAttr(\"height\").css({ width: \"\", height: \"\" }); //lose all previous dimensions in order to rescale new image data\r\n\t\t$bg.data(\"originalImageWidth\",$this.width()).data(\"originalImageHeight\",$this.height());\r\n\t\tif($bg.data(\"newTitle\")){\r\n\t\t\t$this.attr(\"title\",$bg.data(\"newTitle\")); //set new image title attribute\r\n\t\t}\r\n\t\tFullScreenBackground($this); //scale new image\r\n\t\t$bg.data(\"nextImage\",$($outer_container.data(\"selectedThumb\")).next().attr(\"href\")); //get and store next image\r\n\t\tif(typeof itemIndex!=\"undefined\"){\r\n\t\t\tif(itemIndex==lastItemIndex){ //check if it is the last image\r\n\t\t\t\t$bg.data(\"lastImageReached\",\"Y\");\r\n\t\t\t\t$bg.data(\"nextImage\",$outer_container_a.first().attr(\"href\")); //get and store next image\r\n\t\t\t} else {\r\n\t\t\t\t$bg.data(\"lastImageReached\",\"N\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t$bg.data(\"lastImageReached\",\"N\");\r\n\t\t}\r\n\t\t$this.fadeIn(\"slow\"); //fadein background image\r\n\t\tif($bg.data(\"nextImage\") || $bg.data(\"lastImageReached\")==\"Y\"){ //don't close thumbs pane on 1st load\r\n\t\t\tSlidePanels(\"close\"); //close the left pane\r\n\t\t}\r\n\t\tNextImageTip();\r\n\t}\r\n\r\n\t//slide in/out left pane\r\n\t$outer_container.hover(\r\n\t\tfunction(){ //mouse over\r\n\t\t\tSlidePanels(\"open\");\r\n\t\t},\r\n\t\tfunction(){ //mouse out\r\n\t\t\tSlidePanels(\"close\");\r\n\t\t}\r\n\t);\r\n\t\r\n\t//Clicking on thumbnail changes the background image\r\n\t$outer_container_a.click(function(event){\r\n\t\tevent.preventDefault();\r\n\t\tvar $this=this;\r\n\t\t$bgimg.css(\"display\",\"none\");\r\n\t\t$preloader.fadeIn(\"fast\"); //show preloader\r\n\t\t//style clicked thumbnail\r\n\t\t$outer_container_a.each(function() {\r\n    \t\t$(this).children(\".selected\").css(\"display\",\"none\");\r\n  \t\t});\r\n\t\t$(this).children(\".selected\").css(\"display\",\"block\");\r\n\t\t//get and store next image and selected thumb \r\n\t\t$outer_container.data(\"selectedThumb\",$this); \r\n\t\t$bg.data(\"nextImage\",$(this).next().attr(\"href\")); \t\r\n\t\t$bg.data(\"newTitle\",$(this).children(\"img\").attr(\"title\")); //get and store new image title attribute\r\n\t\titemIndex=getIndex($this); //get clicked item index\r\n\t\tlastItemIndex=($outer_container_a.length)-1; //get last item index\r\n\t\t$bgimg.attr(\"src\", \"\").attr(\"src\", $this); //switch image\r\n\t}); \r\n\r\n\t//clicking on large image loads the next one\r\n\t$bgimg.click(function(event){\r\n\t\tvar $this=$(this);\r\n\t\tif($bg.data(\"nextImage\")){ //if next image data is stored\r\n\t\t\t$this.css(\"display\",\"none\");\r\n\t\t\t$preloader.fadeIn(\"fast\"); //show preloader\r\n\t\t\t$($outer_container.data(\"selectedThumb\")).children(\".selected\").css(\"display\",\"none\"); //deselect thumb\r\n\t\t\tif($bg.data(\"lastImageReached\")!=\"Y\"){\r\n\t\t\t\t$($outer_container.data(\"selectedThumb\")).next().children(\".selected\").css(\"display\",\"block\"); //select new thumb\r\n\t\t\t} else {\r\n\t\t\t\t$outer_container_a.first().children(\".selected\").css(\"display\",\"block\"); //select new thumb - first\r\n\t\t\t}\r\n\t\t\t//store new selected thumb\r\n\t\t\tvar selThumb=$outer_container.data(\"selectedThumb\");\r\n\t\t\tif($bg.data(\"lastImageReached\")!=\"Y\"){\r\n\t\t\t\t$outer_container.data(\"selectedThumb\",$(selThumb).next()); \r\n\t\t\t} else {\r\n\t\t\t\t$outer_container.data(\"selectedThumb\",$outer_container_a.first()); \r\n\t\t\t}\r\n\t\t\t$bg.data(\"newTitle\",$($outer_container.data(\"selectedThumb\")).children(\"img\").attr(\"title\")); //get and store new image title attribute\r\n\t\t\tif($bg.data(\"lastImageReached\")!=\"Y\"){\r\n\t\t\t\titemIndex++;\r\n\t\t\t} else {\r\n\t\t\t\titemIndex=0;\r\n\t\t\t}\r\n\t\t\t$this.attr(\"src\", \"\").attr(\"src\", $bg.data(\"nextImage\")); //switch image\r\n\t\t}\r\n\t});\r\n\t\r\n\t//function to get element index (fuck you IE!)\r\n\tfunction getIndex(theItem){\r\n\t\tfor ( var i = 0, length = $outer_container_a.length; i < length; i++ ) {\r\n\t\t\tif ( $outer_container_a[i] === theItem ) {\r\n\t\t\t\treturn i;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t//toolbar (image view mode button) hover\r\n\t$toolbar.hover(\r\n\t\tfunction(){ //mouse over\r\n\t\t\t$(this).stop().fadeTo(\"fast\",1);\r\n\t\t},\r\n\t\tfunction(){ //mouse out\r\n\t\t\t$(this).stop().fadeTo(\"fast\",0.8);\r\n\t\t}\r\n\t); \r\n\t$toolbar.stop().fadeTo(\"fast\",0.8); //set its original state\r\n\t\r\n\t//Clicking on toolbar changes the image view mode\r\n\t$toolbar.click(function(event){\r\n\t\tif($toolbar.data(\"imageViewMode\")==\"full\"){\r\n\t\t\tImageViewMode(\"fit\");\r\n\t\t} else if($toolbar.data(\"imageViewMode\")==\"fit\") {\r\n\t\t\tImageViewMode(\"original\");\r\n\t\t} else if($toolbar.data(\"imageViewMode\")==\"original\"){\r\n\t\t\tImageViewMode(\"full\");\r\n\t\t}\r\n\t});\r\n\r\n\t//next image balloon tip\r\n\tfunction NextImageTip(){\r\n\t\tif($bg.data(\"nextImage\")){ //check if this is the first image\r\n\t\t\t$nextimage_tip.stop().css(\"right\",20).fadeIn(\"fast\").fadeOut(2000,\"easeInExpo\",function(){$nextimage_tip.css(\"right\",$(window).width());});\r\n\t\t}\r\n\t}\r\n\r\n\t//slide in/out left pane function\r\n\tfunction SlidePanels(action){\r\n\t\tvar speed=900;\r\n\t\tvar easing=\"easeInOutExpo\";\r\n\t\tif(action==\"open\"){\r\n\t\t\t$(\"#arrow_indicator\").fadeTo(\"fast\",0);\r\n\t\t\t$outer_container.stop().animate({left: 0}, speed,easing);\r\n\t\t\t$bg.stop().animate({left: 585}, speed,easing);\r\n\t\t} else {\r\n\t\t\t$outer_container.stop().animate({left: -710}, speed,easing);\r\n\t\t\t$bg.stop().animate({left: 0}, speed,easing,function(){$(\"#arrow_indicator\").fadeTo(\"fast\",1);});\r\n\t\t}\r\n\t}\r\n\r\n//Image scale function\r\nfunction FullScreenBackground(theItem){\r\n\tvar winWidth=$(window).width();\r\n\tvar winHeight=$(window).height();\r\n\tvar imageWidth=$(theItem).width();\r\n\tvar imageHeight=$(theItem).height();\r\n\tif($toolbar.data(\"imageViewMode\")!=\"original\"){ //scale\r\n\t\t$(theItem).removeClass(\"with_border\").removeClass(\"with_shadow\"); //remove extra styles of orininal view mode\r\n\t\tvar picHeight = imageHeight / imageWidth;\r\n\t\tvar picWidth = imageWidth / imageHeight;\r\n\t\tif($toolbar.data(\"imageViewMode\")!=\"fit\"){ //image view mode: full\r\n\t\t\tif ((winHeight / winWidth) < picHeight) {\r\n\t\t\t\t$(theItem).css(\"width\",winWidth).css(\"height\",picHeight*winWidth);\r\n\t\t\t} else {\r\n\t\t\t\t$(theItem).css(\"height\",winHeight).css(\"width\",picWidth*winHeight);\r\n\t\t\t};\r\n\t\t} else { //image view mode: fit\r\n\t\t\tif ((winHeight / winWidth) > picHeight) {\r\n\t\t\t\t$(theItem).css(\"width\",winWidth).css(\"height\",picHeight*winWidth);\r\n\t\t\t} else {\r\n\t\t\t\t$(theItem).css(\"height\",winHeight).css(\"width\",picWidth*winHeight);\r\n\t\t\t};\r\n\t\t}\r\n\t\t//center it\r\n\t\t$(theItem).css(\"margin-left\",((winWidth - $(theItem).width())/2)).css(\"margin-top\",((winHeight - $(theItem).height())/2));\r\n\t} else { //no scale\r\n\t\t//add extra styles for orininal view mode\r\n\t\t$(theItem).addClass(\"with_border\").addClass(\"with_shadow\");\r\n\t\t//set original dimensions\r\n\t\t$(theItem).css(\"width\",$bg.data(\"originalImageWidth\")).css(\"height\",$bg.data(\"originalImageHeight\"));\r\n\t\t//center it\r\n\t\t$(theItem).css(\"margin-left\",((winWidth-$(theItem).outerWidth())/2)).css(\"margin-top\",((winHeight-$(theItem).outerHeight())/2));\r\n\t}\r\n}\r\n\r\n//image view mode function - full or fit\r\nfunction ImageViewMode(theMode){\r\n\t$toolbar.data(\"imageViewMode\", theMode); //store new mode\r\n\tFullScreenBackground($bgimg); //scale bg image\r\n\t//re-style button\r\n\tif(theMode==\"full\"){\r\n\t\t$toolbar.html(\"<span class='lightgrey'>IMAGE VIEW MODE &rsaquo;</span> FULL\");\r\n\t} else if(theMode==\"fit\") {\r\n\t\t$toolbar.html(\"<span class='lightgrey'>IMAGE VIEW MODE &rsaquo;</span> FIT\");\r\n\t} else {\r\n\t\t$toolbar.html(\"<span class='lightgrey'>IMAGE VIEW MODE &rsaquo;</span> ORIGINAL\");\r\n\t}\r\n}\r\n\r\n//preload script images\r\nvar images=[\"ajax-loader_dark.gif\",\"round_custom_scrollbar_bg_over.png\"];\r\n$.each(images, function(i) {\r\n  images[i] = new Image();\r\n  images[i].src = this;\r\n});\r\n</script>\r\n</body>\r\n</html>\r\n"]],"start1":0,"start2":0,"length1":0,"length2":20237}]],"length":20237}
